<div class="{{post_class}} postitem group break-inside-avoid mb-8">
    <div
        class="rounded-2xl transition-all duration-500 overflow-hidden glass-apple-card glass-noise border border-gray-100 dark:border-white/10 hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] dark:hover:shadow-[0_0_30px_rgba(59,130,246,0.2)] hover:-translate-y-1 relative h-full flex flex-col">

        <!-- Featured Badge -->
        {{#if featured}}
        <div class="absolute top-4 left-4 z-50">
            <span
                class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold bg-white/90 dark:bg-slate-900/90 backdrop-blur text-cyan-600 dark:text-cyan-400 shadow-lg border border-cyan-100 dark:border-cyan-900/50">
                <span class="w-1.5 h-1.5 rounded-full bg-cyan-500 mr-2 animate-pulse"></span>
                {{t "featured"}}
            </span>
        </div>
        {{/if}}

        <!-- Image with Overlay - Optimized: 1024x576 (16:9) -->
        {{#if feature_image}}
        <div class="relative overflow-hidden aspect-[16/10]">
            <a href="{{url}}" class="block h-full">
                <img class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-out"
                    srcset="{{img_url feature_image size=" s"}} 400w, {{img_url feature_image size="m" }} 800w,
                    {{img_url feature_image size="l" }} 1024w"
                    sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw" src="{{img_url feature_image size="
                    l"}}" alt="{{title}}" loading="lazy">
                <div
                    class="absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                </div>

                <!-- Tech Overlay Effect (Subtle) -->
                <div
                    class="absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.1)_50%,transparent_75%,transparent_100%)] bg-[length:250%_250%,100%_100%] bg-[position:-100%_0,0_0] bg-no-repeat transition-[background-position] duration-0 delay-0 group-hover:bg-[position:200%_0,0_0] group-hover:duration-[1000ms]">
                </div>
            </a>
        </div>
        {{/if}}

        <!-- Content -->
        <div class="p-6 lg:p-8 flex flex-col flex-grow relative">
            <!-- News Badge -->
            <div class="mb-3">
                <span
                    class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-cyan-500/10 to-blue-500/10 text-cyan-600 dark:text-cyan-400 border border-cyan-200 dark:border-cyan-800">
                    <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    {{t "news"}}
                </span>
            </div>

            <!-- Post Title -->
            <h4
                class="post-title text-xl font-bold text-gray-900 dark:text-white group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-cyan-600 group-hover:to-blue-600 dark:group-hover:from-cyan-400 dark:group-hover:to-blue-400 transition-all duration-300 mb-3 line-clamp-2 leading-tight">
                <a href="{{url}}">{{title}}</a>
            </h4>

            <!-- Excerpt -->
            <p class="text-gray-600 dark:text-gray-300 line-clamp-2 mb-6 text-sm leading-relaxed flex-grow font-medium">
                {{excerpt}}
            </p>

            <!-- Author Section -->
            <div
                class="flex items-center justify-between pt-4 mt-auto border-t border-gray-100 dark:border-gray-800/50">
                {{#primary_author}}
                <div class="flex items-center group/author">
                    {{#if profile_image}}
                    <div class="relative">
                        <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full opacity-0 group-hover/author:opacity-100 transition duration-300 blur-[2px]">
                        </div>
                        <img class="relative w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-slate-800"
                            src="{{img_url profile_image size=" s"}}" srcset="{{img_url profile_image size=" s"}} 1x,
                            {{img_url profile_image size="m" }} 2x" alt="{{name}}" loading="lazy">
                    </div>
                    {{else}}
                    <div
                        class="w-8 h-8 rounded-full bg-gradient-to-br from-cyan-100 to-blue-200 dark:from-cyan-900 dark:to-blue-900 flex items-center justify-center ring-2 ring-white dark:ring-slate-800">
                        <span class="text-xs font-bold text-cyan-700 dark:text-cyan-300">{{name}}</span>
                    </div>
                    {{/if}}
                    <div class="ml-3">
                        <h6
                            class="text-xs font-bold text-gray-900 dark:text-gray-200 group-hover/author:text-cyan-600 dark:group-hover/author:text-cyan-400 transition-colors duration-300">
                            <a href="{{url}}">{{name}}</a>
                        </h6>
                    </div>
                </div>
                {{/primary_author}}

                <!-- Date -->
                <div
                    class="text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-slate-800/50 px-2 py-1 rounded-md">
                    {{date published_at format="MMM DD"}}
                </div>
            </div>
        </div>
    </div>
</div>